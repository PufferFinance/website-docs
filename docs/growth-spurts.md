---
title: Growth Spurts
slug: /protocol/growth-spurts
---

## Motivation

Growth Spurts are a unique mechanism to the Puffer Protocol. They go hand-in-hand with [smoothing commitments](./smoothing.md) to ensure the protcol is safe and fair to all participants. Since stakers will realize gains on their pufETH tokens immediately upon NodeOps paying their smoothing commitments, this can cause a race to stake ETH before all NoOps have joined. For example, imagine a scenario in which all NoOps join immediately on day one. Then anyone staking after would not see their pufETH appreciate from new smoothing commitments.

## What is a Growth Spurt?

Adressing the above issue, the protocol is divided into weekly intervals called **Growth Spurts** that limit the number of NoOps that can join and pufETH that can be minted. Capping the number of NoOps helps to smooth rewards across more growth spurts to provide this yield to the most stakers. Limiting the amount of pufETH also helps ensure that smoothing commitments are not heavily diluted among stakers. Ultimately, this mechanism helps the protocol grow and mature at a safer pace.

The end of a growth spurt marks a new chapter for the protocol. There are two important actions that take place: 
1. pufETH is repriced
2. NoOps can withdraw consensus and AVS rewards

The Guardians will publish the total amount of ETH backing pufETH (as a result of gaining ETH rewards via protocol operations), setting the newly appreciated pufETH price. Guardians will also publish Merkle trees which allow NoOps to withdraw their rewards by submitting Merkle proofs on-chain.

## Proof of Reserves

In order to calculate the amount of ETH that is backing pufETH, we perform an offchain calculation. We add up all the ETH locked in active validators, full withdrawal ETH to be returned to the pool, restaking rewards owed to the pool, and the balances of the PufferPool and WithdrawalPool contracts. Initially, this calculation will be performed by the Guardians, but will eventually be replaced with a trustless ZKP once the Deneb upgrade adds EIP-4788. 

## Visualization
<div style={{textAlign: 'center'}}>

![pufferarch](/img/Puffer_Growth_Spurt.png)
</div>

**Explanation**

1. Assume Stakers stake exactly `320 ETH` during GrowthSpurt 1, minting `320 pufETH`. Thus the initial conversion rate between pufETH and ETH is 1.0 (1 pufETH = 1 ETH)
2. Say 10 NoOps join throughout the week and each pay their Smoothing Commitments of 1.44 ETH each, adding 14.4 ETH total to the protocol. Now the `320 pufETH` is backed by `334.4 ETH`.
3. A week later when GrowthSpurt 1 ends, the Guardians will update the conversion rate to `334.4 / 320 = 1.045 ETH` per 1 pufETH.
4. NoOps will be eligible to withdraw any earned staking rewards and restaking commission, upon submitting a Merkle proof on-chain.
5. Stakers may now redeem 1.045 ETH for each of their original 1 ETH staked at the beginning of GrowthSpurt 1 as long as there is sufficient liquidity in the WithdrawalPool contract.
6. This cycle will continue for GrowthSpurt 2 and so on, growing the value of pufETH!
7. Note, this example did not factor in the additional restaking rewards generated by the NoOps, which would further increase pufETH value.